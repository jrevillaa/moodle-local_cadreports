define("local_cadreports/dynamic_filters",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{init:function(){this.bindEvents()},bindEvents:function(){var self=this;$("#id_courseid").on("change",(function(){var selectedCourses=$(this).val();selectedCourses&&selectedCourses.length>0?(self.updateGroups(selectedCourses),self.updateUsers(selectedCourses)):(self.clearGroups(),self.clearUsers())}))},updateGroups:function(courseIds){var self=this;Ajax.call([{methodname:"local_cadreports_get_course_data",args:{courseids:courseIds.join(","),type:"groups"}}])[0].done((function(data){self.populateSelect("#id_groupid",data)})).fail((function(error){Notification.exception(error)}))},updateUsers:function(courseIds){var self=this;Ajax.call([{methodname:"local_cadreports_get_course_data",args:{courseids:courseIds.join(","),type:"users"}}])[0].done((function(data){self.populateSelect("#id_userid",data)})).fail((function(error){Notification.exception(error)}))},populateSelect:function(selector,data){var autocomplete=$(selector).data("autocomplete");autocomplete&&(autocomplete.clearSelection(),autocomplete.processResults(data))},clearGroups:function(){this.populateSelect("#id_groupid",[])},clearUsers:function(){this.populateSelect("#id_userid",[])}}}));

//# sourceMappingURL=dynamic_filters.min.js.map