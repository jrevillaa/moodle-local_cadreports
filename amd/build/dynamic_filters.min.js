define("local_cadreports/dynamic_filters",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{init:function(){this.bindEvents()},bindEvents:function(){var self=this;$(document).on("change","#id_courseid",(function(){var selectedCourses=$(this).val();selectedCourses&&selectedCourses.length>0?(self.updateGroups(selectedCourses),self.updateUsers(selectedCourses)):(self.clearSelect("#id_groupid"),self.clearSelect("#id_userid"))}))},updateGroups:function(courseIds){var self=this;Ajax.call([{methodname:"local_cadreports_get_course_data",args:{courseids:courseIds.join(","),type:"groups"}}])[0].done((function(data){self.populateAutocomplete("#id_groupid",data)})).fail((function(error){Notification.exception(error)}))},updateUsers:function(courseIds){var self=this;Ajax.call([{methodname:"local_cadreports_get_course_data",args:{courseids:courseIds.join(","),type:"users"}}])[0].done((function(data){self.populateAutocomplete("#id_userid",data)})).fail((function(error){Notification.exception(error)}))},populateAutocomplete:function(selector,data){var $select=$(selector);$select.empty(),$select.append($("<option></option>").attr("value","").text("")),$.each(data,(function(index,item){$select.append($("<option></option>").attr("value",item.id).text(item.text))})),$select.data("select2")&&$select.trigger("change")},clearSelect:function(selector){var $select=$(selector);$select.empty(),$select.append($("<option></option>").attr("value","").text("")),$select.data("select2")&&$select.trigger("change")}}}));

//# sourceMappingURL=dynamic_filters.min.js.map