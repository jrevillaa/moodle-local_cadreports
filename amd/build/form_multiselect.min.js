define("local_cadreports/form_multiselect",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){var FormMultiselect={init:function(){var courseSelect=$("#id_courseids"),groupSelect=$("#id_groupids");courseSelect.on("change",(function(){FormMultiselect.updateGroups(courseSelect.val(),groupSelect)})),FormMultiselect.enhanceMultiselects()},updateGroups:function(selectedCourses,groupSelect){groupSelect.empty(),selectedCourses&&0!==selectedCourses.length?Ajax.call([{methodname:"local_cadreports_get_groups_for_courses",args:{courseids:selectedCourses.map((function(id){return parseInt(id)}))},done:function(groups){0===groups.length?groupSelect.append('<option value="">No hay grupos para los cursos seleccionados</option>'):$.each(groups,(function(index,group){groupSelect.append('<option value="'+group.id+'">'+group.name+" ("+group.coursename+")</option>")}))},fail:function(error){Notification.exception(error),groupSelect.append('<option value="">Error cargando grupos</option>')}}]):groupSelect.append('<option value="">Selecciona primero uno o m√°s cursos</option>')},enhanceMultiselects:function(){$("<style>").prop("type","text/css").html("\n                    .cadreports-multiselect {\n                        min-height: 120px !important;\n                        font-size: 14px;\n                    }\n                    .cadreports-multiselect option {\n                        padding: 4px 8px;\n                    }\n                    .cadreports-multiselect option:hover {\n                        background-color: #e3f2fd;\n                    }\n                ").appendTo("head"),$("#id_courseids, #id_groupids").addClass("cadreports-multiselect")}};return FormMultiselect}));

//# sourceMappingURL=form_multiselect.min.js.map